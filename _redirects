# Cloudflare Pages redirects and rewrites

# Force non-www (redirect www to non-www)
https://www.memejpg.com/*  https://memejpg.com/:splat  301!
http://www.memejpg.com/*   https://memejpg.com/:splat  301!

# Remove trailing slashes to avoid duplicate content
/*/         /:splat      301!

# Redirect common duplicate URLs
/index.html  /           301!
/home        /           301!
/index       /           301!

# Block Cloudflare email protection from being indexed
/cdn-cgi/*   https://memejpg.com/  301!

# Redirect to main domain for non-existent subdomains (if they end up here)
# These should be handled at DNS level, but as backup:
# Note: These won't work for actual subdomain requests, they need DNS-level handling

# Clean up query parameters that cause duplicates (except lang)
# Note: This is handled by JavaScript canonical tags, but we can also handle server-side

# Handle client-side routing for Vue SPA
/blog        /blog/index.html  200
/blog/*      /blog/:splat      200
/*    /index.html   200
